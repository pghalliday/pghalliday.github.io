<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Auto build and deploy GitHub pages with Travis-CI</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

        <!-- Table CSS -->
        <link rel="stylesheet" href="/css/table.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">pghalliday</a></h1>
            <a class="extra" href="/">home</a>
          </div>

          <h2>Auto build and deploy GitHub pages with Travis-CI</h2>
<p class="meta">18 Sep 2014</p>

<div class="post">
<h2 id="set-up-branches">set up branches</h2>

<ul>
<li><p><code>master</code> - actual site is served from this source</p>

<ul>
<li><code>.nojenkins</code></li>
<li>Tell GitHub we already built everything and not to run Jekyll</li>
<li><code>.travis.yml</code></li>
<li>Tell Travis-CI to ignore the master branch as it&#39;s where we deploy to</li>
</ul>
<div class="highlight"><pre><code class="language-text" data-lang="text">branches:
  except:
    - master
</code></pre></div></li>
<li><p><code>deploy</code> - the source and build scripts live here, using gulp to test and transform source, then jekyll to build the site the output goes into <code>_site</code></p>

<ul>
<li><code>.travis.yml</code></li>
<li>configure test, build and add <code>after_success</code> script</li>
</ul>
<div class="highlight"><pre><code class="language-text" data-lang="text">after_success:
- ./deploy.sh
</code></pre></div>
<ul>
<li><code>deploy.sh</code></li>
<li>This script can be used locally or in Travis to push the contents of <code>_site</code> to the <code>master</code> branch</li>
</ul></li>
</ul>

</div>


<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'pghalliday';
    var disqus_identifier = 'auto-build-and-deploy-github-pages-with-travis-ci';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>



          <div class="footer">
            <div class="contact">
              <p>
                Peter Halliday<br />
                Software Engineer<br />
                pghalliday@gmail.com
              </p>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/pghalliday">github.com/pghalliday</a><br />
                <a href="https://twitter.com/petehalliday">twitter.com/petehalliday</a><br />
              </p>
            </div>
          </div>
        </div>

        <script type="text/javascript">
          /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
          var disqus_shortname = 'pghalliday';

          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function () {
            var s = document.createElement('script'); s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
          }());
        </script>
    
    </body>
</html>
